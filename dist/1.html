<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><title>강의 시간표 (다양한 색상)</title><script src="https://cdn.tailwindcss.com"></script><style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:auto}.root-container{width:100%;margin:0 auto;background:#f5f5f5;position:relative}.calendar-container{position:relative;background:#fff;border:1px solid #ccc;width:100%;margin:60px auto;overflow:hidden}.lecture{position:absolute;color:#fff;text-align:left;border-radius:4px;overflow:hidden;padding:4px;font-size:.75rem}.day-cell,.empty-cell,.room-cell,.time-cell{position:absolute;box-sizing:border-box;border:1px solid #ddd;background:#f0f0f0;text-align:center;font-weight:700;font-size:.75rem;overflow:hidden}.day-cell{background:#0058a3;color:#fff;border:1px solid #00457c}.room-cell{background:#ffd900;color:#000;border:1px solid #ca0}.time-cell{background:#fff;color:#000;border:1px solid #ccc}.empty-cell{background:#fff}.lecture-content{text-align:left}.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.4)}.modal-content{background-color:#fff;margin:15% auto;padding:20px;border:1px solid #888;width:80%}.close-btn{color:#aaa;float:right;font-size:28px;font-weight:700}.close-btn:focus,.close-btn:hover{color:#000;text-decoration:none;cursor:pointer}</style></head><body><div id="week-display" class="text-center text-lg font-bold my-4" style="position:absolute;left:400px;z-index:2"></div><button id="prev-week" class="bg-blue-700 text-white px-4 py-2 rounded" style="position:absolute;top:10px;left:100px;z-index:2">이전 주</button> <button id="next-week" class="bg-blue-700 text-white px-4 py-2 rounded" style="position:absolute;top:10px;left:800px;z-index:2">다음 주</button><div class="root-container"><div id="calendar" class="calendar-container"></div></div><div id="lecture-modal" class="modal"><div class="modal-content"><span class="close-btn">&times;</span><div id="modal-lecture-details"></div></div></div><script>document.addEventListener("DOMContentLoaded",()=>{let o=document.getElementById("week-display");var t=document.getElementById("prev-week"),e=document.getElementById("next-week");let p=document.getElementById("calendar"),m=0,x=9,f=["일","월","화","수","목","금","토"],M=["101호","102호","103호","104호","105호"],$=[2,3,4],b=[{name:"웹/IT",color:"#FF5733"},{name:"인테리어",color:"#59838f"},{name:"영상편집",color:"#3357FF"},{name:"그래픽디자인",color:"#FF33A8"},{name:"사무자격증",color:"#558800"},{name:"OA",color:"#777"},{name:"회계",color:"#8D33FF"},{name:"자바",color:"#FF8D33"},{name:"C++",color:"#353566"},{name:"취업특강",color:"#FF3333"}],E=["김민수","이서현","박지훈","최예진","조민아","정우성","한지민","서강준","문채원","유승호"],y=60,v=30;function D(t){var e=new Date,t=(e.setDate(e.getDate()+7*t),new Date(e)),e=(t.setDate(e.getDate()-e.getDay()),new Date(t));return e.setDate(t.getDate()+6),{start:t,end:e}}function r(){var t=D(m),e=t.start.toISOString().split("T")[0],t=t.end.toISOString().split("T")[0];o.innerText=`주차: ${e} ~ `+t}function w(t,e){let o=2*(t-x);return"30"===e&&o++,o}function n(){let y=[],v={};return f.forEach(r=>{var e=Math.floor(Math.random()*M.length)+3;for(let t=0;t<e;t++){let o=0;for(;o<10;){o++;var n=M[Math.floor(Math.random()*M.length)],a=Math.floor(Math.random()*(22-x-2))+x,l=$[Math.floor(Math.random()*$.length)],s=Math.random()<.5?"00":"30";let t=a+l,e=s;22<t&&(t=22,e="00");var d=b[Math.floor(Math.random()*b.length)],i=w(a,s),c=w(t,e);if(((e,t,o,r,n)=>{var a=t+"-"+o;if(e[a])for(let t=r;t<n;t++)if(e[a][t])return;return 1})(v,r,n,i,c)){f=m=p=u=g=h=void 0;var h=v,g=r,u=n,p=i,m=c,f=g+"-"+u;h[f]||(h[f]={});for(let t=p;t<m;t++)h[f][t]=!0;i=E[Math.floor(Math.random()*E.length)],c=Math.floor(21*Math.random())+10,g=Math.floor(Math.random()*(c+1)),u=(g/c*100).toFixed(1);y.push({day:r,room:n,startHour:a,startMinute:s,endHour:t,endMinute:e,duration:l,course:d.name,color:d.color,instructor:i,capacity:c,attendance:g,attendanceRate:u});break}}}}),y}function a(t){var e=2*(22-x)+1,o=(1+f.length*M.length)*y,r=(2+e)*v;p.style.width=o+"px",p.style.height=r+"px",p.style.position="relative";let n=p.innerHTML="";n+=`<div class="time-cell" style="
                      position:absolute; left:0; top:0;
                      width:60px; height:60px;">
                    </div>`;var a=D(m);let l=[];for(let t=0;t<7;t++){var s=new Date(a.start);s.setDate(a.start.getDate()+t),l.push(s)}let d=y;f.forEach((t,e)=>{var o=M.length*y,e=l[e].getMonth()+1+"/"+l[e].getDate();n+=`<div class="day-cell" style="
                        position:absolute; top:0; left:${d}px;
                        width:${o}px; height:30px;
                        border: 1px solid #00457C;">
                        ${t} (${e})
                      </div>`,d+=o}),d=y,f.forEach(t=>{M.forEach(t=>{n+=`<div class="room-cell" style="
                          position:absolute; top:30px; left:${d}px;
                          width:60px; height:30px;
                          border: 1px solid #CCCCCC;">
                          ${t}
                        </div>`,d+=y})});for(let t=2;t<2+e;t++){var i=x+Math.floor((t-2)/2),c=(t-2)%2==1?"30":"00",h=t*v;n+=`<div class="time-cell" style="
                        position:absolute; left:0; top:${h}px;
                        width:60px; height:30px;">
                       ${i}:${c}
                       </div>`;for(let t=0;t<f.length*M.length;t++){var g=(t+1)*y;n+=`<div class="empty-cell" style="
                          position:absolute; top:${h}px; left:${g}px;
                          width:60px; height:30px;
                        "></div>`}}p.innerHTML=n,t.forEach(t=>{var e=w(t.startHour,t.startMinute),o=w(t.endHour,t.endMinute)-e,r=f.indexOf(t.day),n=M.indexOf(t.room),r=1+(r*M.length+n),n=(e+2)*v,e=r*y,r=o*v,o=document.createElement("div");o.className="lecture",o.style.top=n+"px",o.style.left=e+"px",o.style.width="58px",o.style.height=r-2+"px",o.style.backgroundColor=t.color,o.innerHTML=`
            <div class="lecture-content">
              <strong>${t.course}</strong><br>
              강사: ${t.instructor}<br>
              정원: ${t.capacity}명<br>
              출석: ${t.attendance}명<br>
              출석율: ${t.attendanceRate}%
            </div>
          `,o.addEventListener("click",()=>{document.getElementById("modal-lecture-details").innerHTML=`
      <strong>강의명: </strong> ${t.course}<br>
      <strong>강사: </strong> ${t.instructor}<br>
      <strong>정원: </strong> ${t.capacity}명<br>
      <strong>출석: </strong> ${t.attendance}명<br>
      <strong>출석율: </strong> ${t.attendanceRate}%<br>
      <strong>요일: </strong> ${t.day}<br>
      <strong>강의실: </strong> ${t.room}<br>
      <strong>시작 시간: </strong> ${t.startHour}:${t.startMinute}<br>
      <strong>종료 시간: </strong> ${t.endHour}:${t.endMinute}
    `,document.getElementById("lecture-modal").style.display="block"}),p.appendChild(o)}),document.querySelector(".close-btn").addEventListener("click",()=>{document.getElementById("lecture-modal").style.display="none"});let u=0;p.querySelectorAll(".lecture").forEach(t=>{t=t.offsetTop+t.offsetHeight;t>u&&(u=t)}),u<r&&(u=r),p.style.height=u+"px"}t.addEventListener("click",()=>{m--,r(),a(n())}),e.addEventListener("click",()=>{m++,r(),a(n())}),r(),a(n())})</script></body></html>