export const currentPage=window.location.pathname.split("/").pop();window.currentPage=currentPage;export const lang=localStorage.getItem("lang")||"ko";window.lang=lang,localStorage.setItem("lang",lang);export function createTooltip(e,t){const n=document.createElement("div");n.textContent=t,n.style.position="absolute",n.style.backgroundColor="#333",n.style.color="#fff",n.style.padding="5px 10px",n.style.borderRadius="5px",n.style.fontSize="12px",n.style.visibility="hidden",n.style.opacity="0",n.style.transition="opacity 0.2s ease-in-out",n.style.whiteSpace="nowrap",n.style.zIndex="1000",document.body.appendChild(n),e.addEventListener("mouseenter",(function(e){n.style.left=e.clientX-160+"px",n.style.top=e.clientY-40+"px",n.style.visibility="visible",n.style.opacity="1"})),e.addEventListener("mousemove",(function(e){n.style.left=e.clientX-160+"px",n.style.top=e.clientY-40+"px"})),e.addEventListener("mouseleave",(function(){n.style.visibility="hidden",n.style.opacity="0"}))}function saveModal(){const e=document.getElementById("modalForm"),t=new FormData(e),n={};for(const[e,a]of t.entries())n[e]=a;null!==currentRowKey&&(grid.setValue(currentRowKey,"tpCd",n.tpCd),grid.setValue(currentRowKey,"tpNm",n.tpNm),grid.setValue(currentRowKey,"descCntn",n.descCntn),grid.setValue(currentRowKey,"useYn",n.useYn)),document.getElementById("modal").classList.add("hidden"),saveData(grid.getData()),showToast("well-done","success","en")}function renderOffCanvasMenu(e){const t=document.createElement("div");t.id="offCanvas",t.className="fixed top-14 h-full bg-gray-100 border-r z-50";const n=document.createElement("div");n.className="flex flex-col h-full";const a=document.createElement("ul");a.className="flex-grow p-4 space-y-4",e.forEach((e=>{const t=document.createElement("li"),n=document.createElement("a");n.href=e.href,n.className="menu-item block text-gray-800 hover:text-blue-500 text-center p-2 rounded-md";const s=document.createElement("i");s.className=`fas ${e.icon} menu-icon text-blue-400`;const l=document.createElement("span");l.className="menu-text",l.textContent=e.text,e.href===currentPage&&(s.classList.remove("text-blue-400"),s.classList.add("text-gray-800")),n.appendChild(s),n.appendChild(l),t.appendChild(n),a.appendChild(t)}));const s=document.createElement("div");s.className="flex flex-col space-y-4 pb-4";const l=document.createElement("button");l.id="expandOffCanvas",l.className="text-gray-800 hover:text-blue-500 text-xl",l.innerHTML='<i class="fas fa-chevron-right"></i>';const o=document.createElement("button");o.id="collapseOffCanvas",o.className="text-gray-800 hover:text-blue-500 text-xl",o.innerHTML='<i class="fas fa-chevron-left"></i>',s.appendChild(l),s.appendChild(o),n.appendChild(a),n.appendChild(s),t.appendChild(n),document.getElementById("offCanvasContainer").appendChild(t)}window.createTooltip=createTooltip;const iconMapping={"조직도구성":"fa-sitemap","근태관리":"fa-user-clock","인센티브":"fa-gift","업무일정":"fa-calendar-alt","프로젝트일정":"fa-tasks","생산일정":"fa-industry","회원통계":"fa-user","매출통계":"fa-chart-line","체인운영":"fa-store-alt","예약관리":"fa-calendar-plus","회의실관리":"fa-door-open","병원예약":"fa-hospital","강의일정":"fa-chalkboard-teacher","행정구역정보":"fa-map-marked-alt","시스템로그":"fa-clipboard-list","컨설팅지정":"fa-network-wired","서베이":"fa-poll","코드관리":"fa-server","권한관리":"fa-user-shield","문서관리":"fa-file-alt",WMS:"fa-cubes"},menuConfigurations={"attend.html":[{href:"orgni.html",text:"조직도구성"},{href:"attend.html",text:"근태관리"},{href:"total.html",text:"인센티브"}],"calendar.html":[{href:"calendar.html",text:"업무일정"},{href:"trello.html",text:"프로젝트일정"},{href:"timeline.html",text:"생산일정"}],"chain.html":[{href:"stati.html",text:"회원통계"},{href:"flow.html",text:"매출통계"},{href:"chain.html",text:"체인운영"}],"city.html":[{href:"work.html",text:"예약관리"},{href:"meeting.html",text:"회의실관리"},{href:"hospital.html",text:"병원예약"},{href:"lectures.html",text:"강의일정"},{href:"city.html",text:"행정구역정보"}],"config.html":[{href:"config.html",text:"시스템로그"},{href:"network.html",text:"컨설팅지정"},{href:"survey.html",text:"서베이"}],"document.html":[{href:"system.html",text:"코드관리"},{href:"orgtree.html",text:"권한관리"},{href:"document.html",text:"문서관리"},{href:"wms.html",text:"WMS"}],"flow.html":[{href:"stati.html",text:"회원통계"},{href:"flow.html",text:"매출통계"},{href:"chain.html",text:"체인운영"}],"hospital.html":[{href:"work.html",text:"예약관리"},{href:"meeting.html",text:"회의실관리"},{href:"hospital.html",text:"병원예약"},{href:"lectures.html",text:"강의일정"},{href:"city.html",text:"행정구역정보"}],"lectures.html":[{href:"work.html",text:"예약관리"},{href:"meeting.html",text:"회의실관리"},{href:"hospital.html",text:"병원예약"},{href:"lectures.html",text:"강의일정"},{href:"city.html",text:"행정구역정보"}],"meeting.html":[{href:"work.html",text:"예약관리"},{href:"meeting.html",text:"회의실관리"},{href:"hospital.html",text:"병원예약"},{href:"lectures.html",text:"강의일정"},{href:"city.html",text:"행정구역정보"}],"network.html":[{href:"config.html",text:"시스템로그"},{href:"network.html",text:"컨설팅지정"},{href:"survey.html",text:"서베이"}],"orgni.html":[{href:"orgni.html",text:"조직도구성"},{href:"attend.html",text:"근태관리"},{href:"total.html",text:"인센티브"}],"orgtree.html":[{href:"system.html",text:"코드관리"},{href:"orgtree.html",text:"권한관리"},{href:"document.html",text:"문서관리"},{href:"wms.html",text:"WMS"}],"stati.html":[{href:"stati.html",text:"회원통계"},{href:"flow.html",text:"매출통계"},{href:"chain.html",text:"체인운영"}],"survey.html":[{href:"config.html",text:"시스템로그"},{href:"network.html",text:"컨설팅지정"},{href:"survey.html",text:"서베이"}],"system.html":[{href:"system.html",text:"코드관리"},{href:"orgtree.html",text:"권한관리"},{href:"document.html",text:"문서관리"},{href:"wms.html",text:"WMS"}],"timeline.html":[{href:"calendar.html",text:"업무일정"},{href:"trello.html",text:"프로젝트일정"},{href:"timeline.html",text:"생산일정"}],"total.html":[{href:"orgni.html",text:"조직도구성"},{href:"attend.html",text:"근태관리"},{href:"total.html",text:"인센티브"}],"trello.html":[{href:"calendar.html",text:"업무일정"},{href:"trello.html",text:"프로젝트일정"},{href:"timeline.html",text:"생산일정"}],"wms.html":[{href:"system.html",text:"코드관리"},{href:"orgtree.html",text:"권한관리"},{href:"document.html",text:"문서관리"},{href:"wms.html",text:"WMS"}],"work.html":[{href:"work.html",text:"예약관리"},{href:"meeting.html",text:"회의실관리"},{href:"hospital.html",text:"병원예약"},{href:"lectures.html",text:"강의일정"},{href:"city.html",text:"행정구역정보"}]},defaultMenuItems=[],menuItems=(menuConfigurations[currentPage]||defaultMenuItems).map((e=>({...e,icon:iconMapping[e.text]})));renderOffCanvasMenu(menuItems);export function createModal(e,t,n,a){const s=document.createElement("div");s.id=e,s.className="hidden fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50";const l=`\n        <div class="bg-white rounded-lg shadow-sm p-6 w-1/3 relative">\n            <button class="close" onclick="document.getElementById('${e}').classList.add('hidden');">&times;</button>\n            <h4 class="text-md mb-4">${t}</h4>\n            ${n}\n            <div class="flex justify-end space-x-2 mt-4">\n                ${a.map((e=>`<button id="saveModal" class="${e.class}" onclick="${e.onClick}">${e.label}</button>`)).join("")}\n            </div>\n        </div>`;s.innerHTML=l,document.body.appendChild(s)}window.createModal=createModal,createModal("modal","상세정보",'<form id="modalForm" class="space-y-4"></form>',[{label:"저장",class:"bg-blue-500 text-white ",onClick:"saveModal()"},{label:"닫기",class:"bg-gray-500 text-white ",onClick:"document.getElementById('modal').classList.add('hidden');"}]),createModal("logoutModal","로그아웃 하시겠습니까?","",[{label:"로그아웃",class:"bg-blue-500 text-white ",onClick:"window.location.href='login.html';"},{label:"닫기",class:"bg-gray-500 text-white ",onClick:"document.getElementById('logoutModal').classList.add('hidden');"}]);export function createModal2(e,t,n,a){const s=document.createElement("div");s.id=e,s.className="hidden fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50";const l=`\n        <div class="modal-content bg-white rounded-lg shadow-sm p-6 w-1/3 relative">\n            <h4 class="text-md mb-4">${t}</h4>\n            ${n}\n            <div class="flex justify-end space-x-2 mt-4">\n                ${a.map((e=>`<button id="saveModal" class="${e.class}" onclick="${e.onClick}">${e.label}</button>`)).join("")}\n            </div>\n        </div>`;s.innerHTML=l,document.body.appendChild(s)}window.createModal2=createModal2;export function createModal3(e,t,n,a){const s=document.createElement("div");s.id=e,s.className="hidden fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-50";const l=`${n}`;s.innerHTML=l,document.body.appendChild(s)}function renderFloatingNav(e){const t=document.getElementById(e);if(!t)return void console.error(`Container with id "${e}" not found.`);const n=document.createElement("div");n.id="floatingNav",n.className="fixed bottom-4 right-4 bg-gray-700 text-white rounded-lg p-2 hidden space-y-4 z-50",n.innerHTML='\n        <div class="flex justify-between items-center">\n            <h3 class="text-white">다국어지정</h3>\n            <button id="closeFloatingNav" class="text-white">\n                <i class="fas fa-times"></i>\n            </button>\n        </div>\n        <div id="languageSwitcher" class="flex space-x-2">\n            <img src="assets/img/usa.svg" alt="English" data-lang="en" class="w-8 h-8 cursor-pointer">\n            <img src="assets/img/kor.svg" alt="한국어" data-lang="ko" class="w-8 h-8 cursor-pointer">\n            <img src="assets/img/jpn.svg" alt="日本語" data-lang="ja" class="w-6 h-6 cursor-pointer">\n        </div>\n    ',t.appendChild(n);n.querySelector("#closeFloatingNav").addEventListener("click",(()=>{n.classList.add("hidden")}));n.querySelector("#languageSwitcher").addEventListener("click",(e=>{if("IMG"===e.target.tagName){e.target.getAttribute("data-lang")}}))}window.createModal3=createModal3,renderFloatingNav("appContainer");const tabsData=[{href:"system.html",icon:"fas fa-cogs",label:"시스템관리"},{href:"orgni.html",icon:"fas fa-users",label:"조직관리"},{href:"work.html",icon:"fas fa-briefcase",label:"업무관리"},{href:"calendar.html",icon:"fas fa-calendar-alt",label:"일정관리"},{href:"stati.html",icon:"fas fa-chart-bar",label:"통계"},{href:"config.html",icon:"fas fa-tools",label:"설정관리"}];function renderTabs(e){const t=document.getElementById(e),n=document.createElement("div");n.className="px-8 tabs flex",tabsData.forEach((e=>{const t=document.createElement("li"),a=document.createElement("a");a.href=e.href,a.className="gnb-item tab-link flex ";const s=document.createElement("i");s.className=e.icon;const l=document.createElement("span");l.textContent=e.label,a.appendChild(s),a.appendChild(l),t.appendChild(a),n.appendChild(t)})),t.appendChild(n)}renderTabs("tabs-container");class AppBrand{constructor(e,t,n="#"){this.container=document.getElementById(e),this.brandName=t,this.logoHref=n,this.render()}render(){this.container.innerHTML=`\n                <a href="${this.logoHref}">\n                    <span class="logo-text">${this.brandName}</span>\n                </a>`}}const appBrand=new AppBrand("logo","EDUMGT"),button=document.createElement("div");createTooltip(button,"다국어를 지정 합니다."),button.id="gearIcon",button.className="fixed bottom-4 right-4 bg-black text-white rounded-3xl p-2 z-50";const icon=document.createElement("i");icon.className="fas fa-globe",button.appendChild(icon),document.getElementById("buttonContainer").appendChild(button),document.getElementById("gearIcon").addEventListener("click",(()=>{document.getElementById("floatingNav").classList.remove("hidden")})),document.getElementById("closeFloatingNav").addEventListener("click",(()=>{document.getElementById("floatingNav").classList.add("hidden")}));const offCanvas=document.getElementById("offCanvas");offCanvas.classList.remove("hidden","-translate-x-full"),offCanvas.classList.add("collapsed"),offCanvas.classList.remove("expanded");const expandOffCanvas=document.getElementById("expandOffCanvas"),collapseOffCanvas=document.getElementById("collapseOffCanvas");function loadMessages(){fetch("assets/mock/messages.json").then((e=>e.json())).then((e=>{localStorage.setItem("messages",JSON.stringify(e))})).catch((e=>console.error("Error loading data:",e)))}function getMsg(e,t="en"){return JSON.parse(localStorage.getItem("messages"))[t][e]||e}expandOffCanvas.addEventListener("click",(function(){offCanvas.classList.remove("collapsed"),offCanvas.classList.add("expanded"),expandOffCanvas.classList.add("hidden")})),collapseOffCanvas.addEventListener("click",(function(){offCanvas.classList.add("collapsed"),offCanvas.classList.remove("expanded"),collapseOffCanvas.classList.add("hidden")})),loadMessages();export function showToast(e,t="success",n="en"){const a=getMsg(e,n),s=document.getElementById("toast-container"),l=document.createElement("div");l.className=`toast toast-${t} show`,l.innerText=a,s.appendChild(l),setTimeout((()=>{l.classList.remove("show"),setTimeout((()=>l.remove()),300)}),2e3)}window.showToast=showToast;const languageSwitcher=document.getElementById("languageSwitcher");export const breadcrumb=document.querySelector(".breadcrumb");window.breadcrumb=breadcrumb;const buttons=document.querySelectorAll("#content button span");export const tabs=document.querySelectorAll(".tabs li a span");window.tabs=tabs;export const offCanvasItems=document.querySelectorAll("#offCanvas .menu-item span");window.offCanvasItems=offCanvasItems;const menuLinks=document.querySelectorAll(".gnb-item"),menuLinks2=document.querySelectorAll(".menu-item"),orgniPages=["orgni.html","attend.html","total.html"];orgniPages.includes(currentPage)&&menuLinks2.forEach((e=>{e.getAttribute("href")===currentPage&&menuLinks.forEach((e=>{"orgni.html"===e.getAttribute("href")?e.classList.add("active"):e.classList.remove("active")}))}));const systemPages=["system.html","orgtree.html","document.html","wms.html"];systemPages.includes(currentPage)&&menuLinks2.forEach((e=>{e.getAttribute("href")===currentPage&&menuLinks.forEach((e=>{"system.html"===e.getAttribute("href")?e.classList.add("active"):e.classList.remove("active")}))}));const workPages=["work.html","hospital.html","meeting.html","lectures.html","city.html"];workPages.includes(currentPage)&&menuLinks2.forEach((e=>{e.getAttribute("href")===currentPage&&menuLinks.forEach((e=>{"work.html"===e.getAttribute("href")?e.classList.add("active"):e.classList.remove("active")}))}));const calendarPages=["calendar.html","trello.html","timeline.html"];calendarPages.includes(currentPage)&&menuLinks2.forEach((e=>{e.getAttribute("href")===currentPage&&menuLinks.forEach((e=>{"calendar.html"===e.getAttribute("href")?e.classList.add("active"):e.classList.remove("active")}))}));const statiPages=["stati.html","flow.html","chain.html"];statiPages.includes(currentPage)&&menuLinks2.forEach((e=>{e.getAttribute("href")===currentPage&&menuLinks.forEach((e=>{"stati.html"===e.getAttribute("href")?e.classList.add("active"):e.classList.remove("active")}))}));const configPages=["config.html","network.html","survey.html"];configPages.includes(currentPage)&&menuLinks2.forEach((e=>{e.getAttribute("href")===currentPage&&menuLinks.forEach((e=>{"config.html"===e.getAttribute("href")?e.classList.add("active"):e.classList.remove("active")}))}));export function generateNanoId(e=10){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let a=0;a<e;a++)n+=t.charAt(Math.floor(62*Math.random()));return n}window.generateNanoId=generateNanoId;const memberIcon=document.getElementById("memberIcon"),memberMenu=document.getElementById("memberMenu");memberMenu.classList.add("hidden");const logoutModal=document.getElementById("logoutModal");memberIcon.classList.add("text-gray-200","hover:text-white","p-2"),memberIcon.innerHTML='<i class="fas fa-user"></i>',memberMenu.innerHTML='<div class="bg-white shadow-lg p-3 rounded-md border">\n                     <a class="dropdown-item" href="#">\n                        <div class="d-flex">\n                           <div class="me-3">\n                              <div class="avatar avatar-online">\n                                 <img class="rounded-circle bg-primary-subtle" src="sample/sample.svg"\n                                    alt="Avatar" width="40px">\n                              </div>\n                           </div>\n                           <div class="">\n                              <h6 class="fs-4 mb-0">송주희</h6>\n                              <small class="text-muted">관리자</small>\n                           </div>\n                        </div>\n                     </a>\n                     <div class="dropdown-divider"></div>\n                     <a href="#" class="dropdown-item">\n                        <div class="d-flex align-items-center gap-3">\n                           <i class="fas fa-user fs-5"></i>\n                           <span>Profile</span>\n                        </div>\n                     </a>\n                     <a href="#" class="dropdown-item">\n                        <div class="d-flex align-items-center gap-3">\n                           <i class="fas fa-cog fs-5"></i>\n                           <span>Settings</span>\n                        </div>\n                     </a>\n                     <div class="dropdown-divider"></div>\n                     <a href="#" class="dropdown-item" id="logoutButton">\n                        <div class="d-flex align-items-center gap-3">\n                           <i class="fas fa-sign-out-alt fs-5"></i>\n                           <span>로그아웃</span>\n                        </div>\n                     </a>\n                     <div class="dropdown-divider"></div>\n                </div>',memberIcon.addEventListener("click",(function(e){e.stopPropagation(),memberMenu.style.position="absolute",memberMenu.style.top="45px",memberMenu.style.right="20px",memberMenu.classList.remove("hidden"),memberMenu.classList.add("show")})),document.addEventListener("click",(function(e){memberIcon.contains(e.target)||memberMenu.contains(e.target)||(memberMenu.classList.remove("show"),memberMenu.classList.add("hidden"))}));const logoutButton=document.getElementById("logoutButton");function getFavorites(){let e=JSON.parse(localStorage.getItem("favorite-1st"))||null,t=JSON.parse(localStorage.getItem("favorite-Quick"))||[],n="";return e&&(n+=`\n            <a href="${e.url}" class="dropdown-item dropdown-shortcuts-item col">\n                <h5>${e.title}</h5>\n                <small>처음화면</small>\n            </a>\n        `),t.forEach((e=>{n+=`\n            <a href="${e.url}" class="dropdown-item dropdown-shortcuts-item col">\n                <h6>${e.title}</h6>\n                <small>바로가기</small>\n            </a>\n        `})),n}function renderDropdown(e){const t=document.getElementById(e),n=`\n        <div class="dropdown">\n            <div class="dropdown-toggle">\n                <i class="fas fa-bars"></i>\n            </div>\n            <div id="dropdown-menu-shortcuts" class="dropdown-menu dropdown-menu-end">\n                    <div>\n                        ${getFavorites()}\n                    </div>\n            </div>\n        </div>\n    `;t.innerHTML=n;const a=t.querySelector(".dropdown-toggle"),s=t.querySelector(".dropdown-menu");a.addEventListener("click",(()=>{s.classList.toggle("show")}))}logoutButton.addEventListener("click",(function(){logoutModal.classList.remove("hidden"),logoutModal.classList.add("show")})),document.addEventListener("DOMContentLoaded",(()=>{renderDropdown("dropdown-container")}));const dropdownToggles=document.querySelectorAll(".dropdown-toggle");function hideAllDropdowns(e){document.querySelectorAll(".dropdown-menu").forEach((t=>{if(t.classList.contains("show")){const n=t.closest(".dropdown").querySelector(".dropdown-toggle");e.currentTarget!==n&&t.classList.remove("show")}}))}dropdownToggles.forEach((e=>e.addEventListener("click",(t=>{const n=e.closest(".dropdown").querySelector(".dropdown-menu");hideAllDropdowns(t),n.classList.toggle("show"),t.stopPropagation()}))));export function saveFavorite(e){const t=document.querySelector(".breadcrumb")?.innerText||"No Title",n=window.location.pathname,a=n.substring(n.lastIndexOf("/")+1)||"login.html";let s={title:t,url:a};if("1st"===e)localStorage.setItem("favorite-1st",JSON.stringify(s)),showToast("favo-login","success",lang);else if("Quick"===e){let e=JSON.parse(localStorage.getItem("favorite-Quick"))||[];if(e.some((e=>e.url===a)))return void showToast("favo-already","warning",lang);e.length>=8&&e.shift(),e.push(s),localStorage.setItem("favorite-Quick",JSON.stringify(e)),showToast("favo-save","success",lang)}renderDropdown("dropdown-container")}function addBreadcrumbBadges(){const e=document.querySelector(".breadcrumb"),t=document.createElement("div");t.id="favorite",t.style.display="flex",t.style.alignItems="center",t.style.position="absolute",t.style.top="70px",t.style.right="30px",t.innerHTML+='\n        <span id="fav1" class="favo-1" onclick="saveFavorite(\'1st\', window.location.href)">1</span>\n        <span id="fav2" class="favo-2" onclick="saveFavorite(\'Quick\', window.location.href)">Q</span>\n    ',e.parentNode.insertBefore(t,e.nextSibling)}window.saveFavorite=saveFavorite,addBreadcrumbBadges();const fav1=document.getElementById("fav1");createTooltip(fav1,"현재 페이지를 로그인 후 바로가기로 저장합니다.");const fav2=document.getElementById("fav2");createTooltip(fav2,"현재 페이지를 바로가기 목록에 저장합니다.");