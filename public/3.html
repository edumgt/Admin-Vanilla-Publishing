<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ìš©ì–´ì‚¬ì „ (Pretendard ì˜ˆì‹œ)</title>

  <!-- Pretendard CDN (ì˜ˆì‹œ) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />

  <style>
    /* 1) ì „ì²´ ë°”ë””ì— Pretendard ì ìš©, ê¸€ì í¬ê²Œ (18px), ìƒ‰ìƒì€ ì¢€ ë” ì§„í•˜ê²Œ(#222) */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Pretendard', -apple-system, system-ui, sans-serif;
      font-size: 18px;
      line-height: 1.5;
      color: #222;
      background: #f9f9f9;
    }

    /* 2) ì´ˆê¸°ì—ëŠ” max-width: 720px */
    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 1rem;
    }

    /* 3) PC í™”ë©´(ë„ˆë¹„ 1024px ì´ìƒ)ì—ì„œëŠ” max-width: 1000px */
    @media (min-width: 1024px) {
      .container {
        max-width: 1000px;
      }
    }

    /* 4) ì¹´ë“œ í˜•íƒœ */
    #glossary {
      display: grid;
      grid-template-columns: 1fr 1fr;
      /* 2ì—´ ì˜ˆì‹œ */
      gap: 1rem;
    }

    .card {
      background: #fff;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: box-shadow 0.2s;
      position: relative;
      /* ìƒì„¸ë³´ê¸° ë²„íŠ¼ ìš°ì¸¡í•˜ë‹¨ ë¶€ì°©ì„ ìœ„í•´ relative */
    }

    .card:hover {
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    .card dt {
      font-weight: bold;
      margin-bottom: 0.25rem;
    }

    .card .en {
      color: #0074D9;
      font-size: 1.25rem;
      /* í•œê¸€ë³´ë‹¤ ì¡°ê¸ˆ ë” í¬ê²Œ */
    }

    .card .ko {
      color: #333;
      font-size: 1.125rem;
      margin-bottom: 0.5rem;
    }

    .card .desc {
      color: #555;
      line-height: 1.6;
    }

    /* ìƒì„¸ë³´ê¸° ë²„íŠ¼ (badge ìŠ¤íƒ€ì¼) */
    .detail-btn {
      position: absolute;
      bottom: 1rem;
      right: 1rem;
      background: #ff6633;
      color: #fff;
      border: none;
      border-radius: 9999px;
      padding: 0.4rem 0.9rem;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      transition: background-color 0.2s;
    }

    .detail-btn:hover {
      background: #e25422;
    }

    /* 5) ê²€ìƒ‰ì°½ ìŠ¤íƒ€ì¼ */
    .search-wrapper {
      position: relative;
      margin-bottom: 0.75rem;
    }

    #searchInput {
      width: 100%;
      height: 2.75rem;
      padding: 0 0 0 0.75rem;
      border: 1px solid #ccc;
      border-radius: 9999px;
      outline: none;
      transition: border-color 0.2s;
      font-size: 1rem;
    }

    #searchInput:focus {
      border-color: #0074D9;
      box-shadow: 0 0 0 2px rgba(0, 116, 217, 0.2);
    }

    .search-wrapper svg {
      width: 18px;
      height: 18px;
      fill: none;
      stroke: #888;
      stroke-width: 2;
      position: absolute;
      right: 0.75rem;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
    }

    /* 6) ê²€ìƒ‰ ê²°ê³¼ ê±´ìˆ˜ */
    #searchCount {
      color: #444;
      margin-bottom: 0.75rem;
    }

    /* 7) í•„í„° ì˜ì—­ êµ¬ë¶„ */
    .filter-section {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      margin-bottom: 1rem;
      background-color: #b1d5f4;
      padding: 20px;
      border-radius: 8px;
    }

    .filter-group {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .filter-btn {
      display: inline-block;
      padding: 0.4rem 0.7rem;
      border: 1px solid #ccc;
      background: #fff;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.2s, border-color 0.2s;
    }

    .filter-btn:hover {
      background: #eee;
      border-color: #999;
    }

    /* 8) í˜ì´ì§• ì˜ì—­ ìŠ¤íƒ€ì¼ */
    .pagination {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
      justify-content: center;
    }

    .page-btn {
      min-width: 2.75rem;
      padding: 0.45rem 0.7rem;
      text-align: center;
      border: 1px solid #ddd;
      background: #fff;
      cursor: pointer;
      transition: background-color 0.2s, border-color 0.2s;
      font-size: 1rem;
    }

    .page-btn:hover {
      background: #f0f0f0;
      border-color: #999;
    }

    .page-btn.active {
      background: #0074D9;
      border-color: #0074D9;
      color: #fff;
      font-weight: bold;
    }

    /* ëª¨ë°”ì¼(<=600px)ì—ì„œëŠ” 1ì—´ */
    @media (max-width: 600px) {
      #glossary {
        grid-template-columns: 1fr;
      }
    }

    /* ëª¨ë‹¬ íŒì—… */
    .modal {
      position: fixed;
      z-index: 999;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: #fff;
      border-radius: 8px;
      padding: 1.5rem;
      max-width: 500px;
      
      width: 90%;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      position: relative;
    }

    .modal-close {
      position: absolute;
      top: 0.5rem;
      right: 0.75rem;
      font-size: 1.5rem;
      cursor: pointer;
      color: #666;
    }

    .modal-close:hover {
      color: #000;
    }

    .modal-title {
      font-size: 1.3rem;
      margin-top: 0;
      margin-bottom: 0.5rem;
      color: #0074D9;
      font-weight: bold;
    }

    .modal-subtitle {
      font-size: 1.1rem;
      color: #333;
      margin-top: 0;
      margin-bottom: 1rem;
      font-weight: bold;
    }

    .modal-desc {
      font-size: 1rem;
      color: #444;
      line-height: 1.6;
      min-height: 300px;
      white-space: pre-line;
    }

    /* (ì¶”ê°€) ëª¨ë‹¬ í•˜ë‹¨ ë±ƒì§€ ë²„íŠ¼ ì˜ì—­ */
    .modal-actions {
      margin-top: 1.5rem;
      display: flex;
      gap: 0.5rem;
      justify-content: flex-end;
      /* ì˜¤ë¥¸ìª½ ì •ë ¬ */
    }

    .modal-badge-btn {
      background: #eee;
      border: 1px solid #ccc;
      border-radius: 9999px;
      padding: 0.4rem 0.7rem;
      font-size: 0.9rem;
      cursor: pointer;
      transition: background-color 0.2s, border-color 0.2s;
    }

    .modal-badge-btn:hover {
      background: #ddd;
    }

    .modal-actions {
      margin-top: 1.5rem;
      display: flex;
      gap: 0.5rem;
      justify-content: flex-end;
    }

    /* ê³µí†µ */
    .modal-badge-btn {
      background: #eee;
      border: 1px solid #ccc;
      border-radius: 9999px;
      padding: 0.4rem 0.7rem;
      font-size: 0.9rem;
      cursor: pointer;
      transition: background-color 0.2s, border-color 0.2s;
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }

    .modal-badge-btn:hover {
      background: #ddd;
    }

    /* ë±ƒì§€ ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
    .modal-badge-btn {
      background: #eee;
      border: 1px solid #ccc;
      border-radius: 9999px;
      font-size: 1.2rem;
      /* ê¸€ìë¥¼ í¬ê²Œ */
      cursor: pointer;
      padding: 0.5rem 1rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      /* ì•„ì´ì½˜-í…ìŠ¤íŠ¸ ê°„ê²© */
      transition: background-color 0.2s, border-color 0.2s;
    }

    .modal-badge-btn:hover {
      background: #ddd;
    }

    /* 1) ìœ ìµí•¨ (helpful) */
    .modal-badge-btn[data-action="helpful"] {
      background: #4caf50;
      /* ì´ˆë¡ */
      color: #fff;
      border-color: #4caf50;
    }

    .modal-badge-btn[data-action="helpful"]::before {
      content: "âœ…";
      /* ì•„ì´ì½˜ */
    }

    /* 2) ë³´ì™„í•„ìš” (needs-improve) */
    .modal-badge-btn[data-action="needs-improve"] {
      background: #ff9800;
      /* ì˜¤ë Œì§€ */
      color: #fff;
      border-color: #ff9800;
    }

    .modal-badge-btn[data-action="needs-improve"]::before {
      content: "ğŸš§";
      /* ì•„ì´ì½˜ */
    }

    /* 3) ì •ì •ìš”ì²­ (request-correction) */
    .modal-badge-btn[data-action="request-correction"] {
      background: #9c27b0;
      /* ë³´ë¼ (ë¹¨ê°• ëŒ€ì‹  ì‚¬ìš©) */
      color: #fff;
      border-color: #9c27b0;
    }

    .modal-badge-btn[data-action="request-correction"]::before {
      content: "âœï¸";
      /* ì•„ì´ì½˜ */
    }

    #correctionForm {
      display: none;
      /* ì²˜ìŒì—” ìˆ¨ê¹€ */
      margin-top: 1rem;
    }

    #correctionText {
      width: 100%;
      height: 100px;
      /* 100px ë†’ì´ */
      font-size: 1rem;
      resize: none;
      /* í•„ìš”í•˜ë©´ ì‚¬ìš©ìê°€ ë†’ì´ë¥¼ ëŠ˜ë¦¬ì§€ ëª»í•˜ê²Œ */
    }

    #saveCorrectionBtn {
      margin-top: 0.5rem;
      padding: 0.4rem 0.8rem;
      border: 1px solid #1d78da;
      background: #1d78da;
      color: #fff;
      border-radius: 4px;
      cursor: pointer;
    }

    #saveCorrectionBtn:hover {

      border: 1px solid #0a4262;
      background: #0a4262;
    }

    
  </style>
</head>

<body>
  <div class="container">
    <!-- í—¤ë” ì˜ì—­ -->
    <h1 style="margin-bottom:0.25rem;">ìš©ì–´ì‚¬ì „</h1>

    <!-- ê²€ìƒ‰ ì˜ì—­ -->
    <div class="search-wrapper">
      <input type="text" id="searchInput" placeholder="ê²€ìƒ‰ì–´(ìŒì ˆ)ë¥¼ ì…ë ¥..." aria-label="ìš©ì–´ì‚¬ì „ ê²€ìƒ‰" />
      <svg viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4-4m0 0A7 7 0 1110 10a7 7 0 017 7z" />
      </svg>
    </div>

    <!-- í•œê¸€ ì´ˆì„± & ì•ŒíŒŒë²³ í•„í„° ì˜ì—­ -->
    <div class="filter-section">
      <div>
        <div class="filter-group">
          <button class="filter-btn" data-initial="ã„±">ã„±</button>
          <button class="filter-btn" data-initial="ã„´">ã„´</button>
          <button class="filter-btn" data-initial="ã„·">ã„·</button>
          <button class="filter-btn" data-initial="ã„¹">ã„¹</button>
          <button class="filter-btn" data-initial="ã…">ã…</button>
          <button class="filter-btn" data-initial="ã…‚">ã…‚</button>
          <button class="filter-btn" data-initial="ã……">ã……</button>
          <button class="filter-btn" data-initial="ã…‡">ã…‡</button>
          <button class="filter-btn" data-initial="ã…ˆ">ã…ˆ</button>
          <button class="filter-btn" data-initial="ã…Š">ã…Š</button>
          <button class="filter-btn" data-initial="ã…‹">ã…‹</button>
          <button class="filter-btn" data-initial="ã…Œ">ã…Œ</button>
          <button class="filter-btn" data-initial="ã…">ã…</button>
          <button class="filter-btn" data-initial="ã…">ã…</button>
        </div>
      </div>
      <div>
        <div class="filter-group">
          <button class="filter-btn" data-initial="A">A</button>
          <button class="filter-btn" data-initial="B">B</button>
          <button class="filter-btn" data-initial="C">C</button>
          <button class="filter-btn" data-initial="D">D</button>
          <button class="filter-btn" data-initial="E">E</button>
          <button class="filter-btn" data-initial="F">F</button>
          <button class="filter-btn" data-initial="G">G</button>
          <button class="filter-btn" data-initial="H">H</button>
          <button class="filter-btn" data-initial="I">I</button>
          <button class="filter-btn" data-initial="J">J</button>
          <button class="filter-btn" data-initial="K">K</button>
          <button class="filter-btn" data-initial="L">L</button>
          <button class="filter-btn" data-initial="M">M</button>
          <button class="filter-btn" data-initial="N">N</button>
          <button class="filter-btn" data-initial="O">O</button>
          <button class="filter-btn" data-initial="P">P</button>
          <button class="filter-btn" data-initial="Q">Q</button>
          <button class="filter-btn" data-initial="R">R</button>
          <button class="filter-btn" data-initial="S">S</button>
          <button class="filter-btn" data-initial="T">T</button>
          <button class="filter-btn" data-initial="U">U</button>
          <button class="filter-btn" data-initial="V">V</button>
          <button class="filter-btn" data-initial="W">W</button>
          <button class="filter-btn" data-initial="X">X</button>
          <button class="filter-btn" data-initial="Y">Y</button>
          <button class="filter-btn" data-initial="Z">Z</button>
        </div>
      </div>
    </div>

    <!-- ê²€ìƒ‰ ê²°ê³¼ ê±´ìˆ˜ í‘œê¸° -->
    <div id="searchCount"></div>

    <!-- ì¹´ë“œí˜• ëª©ë¡ -->
    <dl id="glossary"></dl>

    <!-- í˜ì´ì§€ ë²ˆí˜¸ ì˜ì—­ -->
    <div id="pagination" class="pagination"></div>
  </div>

  <div id="detailModal" class="modal">
    <div class="modal-content">
      <span class="modal-close">&times;</span>
      <h2 id="modalEn" class="modal-title"></h2>
      <h3 id="modalKo" class="modal-subtitle"></h3>
      <div id="modalDesc" class="modal-desc"></div>

      <!-- (ì¶”ê°€) ëª¨ë‹¬ í•˜ë‹¨ ë±ƒì§€ ë²„íŠ¼ë“¤ -->
      <div class="modal-actions">
        <button class="modal-badge-btn" data-action="helpful">ìœ ìµí•¨</button>
        <button class="modal-badge-btn" data-action="needs-improve">ë³´ì™„í•„ìš”</button>
        <button class="modal-badge-btn" data-action="request-correction">ì •ì •ìš”ì²­</button>
      </div>

      <!-- ì •ì •ìš”ì²­ ìš© textarea + ì €ì¥ ë²„íŠ¼ ì˜ì—­ -->
      <div id="correctionForm">
        <textarea id="correctionText" placeholder="ì •ì • ìš”ì²­ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”."></textarea>
        <button id="saveCorrectionBtn" >ì €ì¥</button>
      </div>

    </div>
  </div>

  <script>
    /* ============ (1) í•œê¸€ ì´ˆì„± ì¶”ì¶œ ë¡œì§ ============ */
    const CHOSEONG_LIST = [
      "ã„±", "ã„²", "ã„´", "ã„·", "ã„¸", "ã„¹", "ã…",
      "ã…‚", "ã…ƒ", "ã……", "ã…†", "ã…‡", "ã…ˆ", "ã…‰",
      "ã…Š", "ã…‹", "ã…Œ", "ã…", "ã…"
    ];
    function getHangulInitial(str) {
      if (!str || typeof str !== "string") return "";
      const c = str.trim().charAt(0);
      const code = c.charCodeAt(0) - 0xAC00;
      if (code < 0 || code > 11172) return "";
      const idx = Math.floor(code / (21 * 28));
      return CHOSEONG_LIST[idx] || "";
    }

    /* ============ (2) ì „ì—­ ë³€ìˆ˜ & ìƒìˆ˜ ============ */
    let glossaryData = [];
    let filteredData = [];
    const PAGE_SIZE = 20;
    let currentPage = 1;
    let totalPages = 1;


    const detailModal = document.getElementById("detailModal");
    const modalClose = document.querySelector(".modal-close");
    const modalEn = document.getElementById("modalEn");
    const modalKo = document.getElementById("modalKo");
    const modalDesc = document.getElementById("modalDesc");

    // ì •ì •ìš”ì²­ ì˜ì—­
    const correctionForm = document.getElementById("correctionForm");
    const correctionText = document.getElementById("correctionText");
    const saveCorrectionBtn = document.getElementById("saveCorrectionBtn");

    /* ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜ */
    function openModal(item) {
      // ëª¨ë‹¬ ë‚´ìš© ì±„ìš°ê¸°
      modalEn.textContent = item.en;
      modalKo.textContent = item.ko;
      modalDesc.textContent = item.desc;

      // í˜¹ì‹œ ì •ì •ìš”ì²­ ì˜ì—­ì´ ì—´ë ¤ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ë‹¤ì‹œ ìˆ¨ê¹€
      correctionForm.style.display = "none";
      correctionText.value = ""; // ì´ì „ ì…ë ¥ê°’ ì´ˆê¸°í™”

      // ëª¨ë‹¬ ë³´ì´ê¸°
      detailModal.classList.add("active");
    }

    /* ëª¨ë‹¬ ë‹«ê¸° í•¨ìˆ˜ */
    function closeModal() {
      detailModal.classList.remove("active");
    }

    // ëª¨ë‹¬ ë‹«ê¸° ì´ë²¤íŠ¸
    modalClose.addEventListener("click", closeModal);
    detailModal.addEventListener("click", e => {
      if (e.target === detailModal) {
        closeModal();
      }
    });

    // ëª¨ë‹¬ ë±ƒì§€ ë²„íŠ¼ (ìœ ìµí•¨, ë³´ì™„í•„ìš”, ì •ì •ìš”ì²­) í´ë¦­ ì´ë²¤íŠ¸
    document.addEventListener("click", e => {
      if (e.target.classList.contains("modal-badge-btn")) {
        const action = e.target.dataset.action;

        if (action === "request-correction") {
          
          correctionForm.style.display = "block";
        } else {
          // ìœ ìµí•¨ or ë³´ì™„í•„ìš” ë“±ì€ ê°„ë‹¨íˆ alert
          alert(`'${action}' ë²„íŠ¼ì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤!`);
        }
      }
    });


    saveCorrectionBtn.addEventListener("click", () => {
      const correctionMsg = correctionText.value.trim();
      if (!correctionMsg) {
        alert("ì •ì • ìš”ì²­ ë‚´ìš©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
        return;
      }
      
      alert(`ì •ì • ìš”ì²­ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\n\në‚´ìš©: ${correctionMsg}`);

      // ì €ì¥ í›„ textarea ìˆ¨ê¸°ê³ , ëª¨ë‹¬ ë‹«ê±°ë‚˜ ìœ ì§€?
      correctionForm.style.display = "none";
      // detailModal.classList.remove("active"); // ì›í•˜ë©´ ëª¨ë‹¬ë„ ë‹«ê¸°
    });



    /* ============ (3) ì¹´ë“œ ë Œë”ë§ ============ */
    function renderGlossaryList(data) {
      const glossaryEl = document.getElementById("glossary");
      glossaryEl.innerHTML = "";

      data.forEach(item => {
        const card = document.createElement("div");
        card.className = "card";
        card.setAttribute("role", "listitem");

        // ì˜ë¬¸
        const dtEn = document.createElement("dt");
        dtEn.textContent = item.en;
        dtEn.className = "en";

        // í•œê¸€
        const dtKo = document.createElement("dt");
        dtKo.textContent = item.ko;
        dtKo.className = "ko";

        // ì„¤ëª… (10ê¸€ì ì œí•œ + "...")
        let shortDesc = item.desc;
        if (shortDesc.length > 20) {
          shortDesc = shortDesc.slice(0, 20) + "...";
          // ì—¬ê¸°ì„œ 10 ëŒ€ì‹  20 ë“± ì›í•˜ëŠ” ê¸¸ì´ë¡œ ì¡°ì • ê°€ëŠ¥
        }
        const ddDesc = document.createElement("dd");
        ddDesc.textContent = shortDesc;
        ddDesc.className = "desc";

        // ìƒì„¸ë³´ê¸° ë²„íŠ¼
        const detailBtn = document.createElement("button");
        detailBtn.className = "detail-btn";
        detailBtn.textContent = "ìƒì„¸ë³´ê¸°";


        detailBtn.addEventListener("click", () => {
          openModal(item);
        });

        card.appendChild(dtEn);
        card.appendChild(dtKo);
        card.appendChild(ddDesc);
        card.appendChild(detailBtn);  // ë²„íŠ¼ ì‚½ì…

        glossaryEl.appendChild(card);
      });
    }


    /* ============ (4) í˜ì´ì§€ë³„ ë°ì´í„° í‘œì‹œ ============ */
    function displayPage(pageNum) {
      if (pageNum < 1) pageNum = 1;
      if (pageNum > totalPages) pageNum = totalPages;
      currentPage = pageNum;

      const start = (currentPage - 1) * PAGE_SIZE;
      const end = start + PAGE_SIZE;
      const pageData = filteredData.slice(start, end);

      renderGlossaryList(pageData);

      document.getElementById("searchCount").textContent =
        `ê²€ìƒ‰ ê²°ê³¼: ${filteredData.length}ê±´ (í˜ì´ì§€ ${currentPage}/${totalPages})`;

      renderPagination();
    }

    /* ============ (5) í˜ì´ì§€ ë²„íŠ¼ ë Œë”ë§ ============ */
    function renderPagination() {
      const paginationEl = document.getElementById("pagination");
      paginationEl.innerHTML = "";

      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.className = "page-btn";
        btn.textContent = i;
        btn.dataset.page = i;
        if (i === currentPage) btn.classList.add("active");
        paginationEl.appendChild(btn);
      }

      document.querySelectorAll(".page-btn").forEach(b => {
        b.addEventListener("click", e => {
          const page = parseInt(e.target.dataset.page, 10);
          displayPage(page);
        });
      });
    }

    /* ============ (6) ê²€ìƒ‰ ë¡œì§ ============ */
    function handleSearch(e) {
      const val = e.target.value.toLowerCase().trim();
      if (!val) {
        filteredData = glossaryData;
      } else {
        filteredData = glossaryData.filter(item => {
          const en = item.en.toLowerCase();
          const ko = item.ko.toLowerCase();
          const desc = item.desc.toLowerCase();
          return en.includes(val) || ko.includes(val) || desc.includes(val);
        });
      }
      totalPages = Math.ceil(filteredData.length / PAGE_SIZE) || 1;
      displayPage(1);
    }

    /* ============ (7) ì´ˆì„±/ì•ŒíŒŒë²³ ë²„íŠ¼ í´ë¦­ ============ */
    function handleInitialClick(e) {
      const init = e.target.dataset.initial;
      if (!init) return;

      // ê²€ìƒ‰ì–´ ë¦¬ì…‹
      document.getElementById("searchInput").value = "";

      if (/[ã„±-ã…]/.test(init)) {
        filteredData = glossaryData.filter(item => {
          const koInit = getHangulInitial(item.ko);
          return koInit === init;
        });
      } else {
        filteredData = glossaryData.filter(item => {
          const firstEn = item.en.trim().charAt(0).toLowerCase();
          return firstEn === init.toLowerCase();
        });
      }

      totalPages = Math.ceil(filteredData.length / PAGE_SIZE) || 1;
      displayPage(1);
    }

    /* ============ (8) ì´ˆê¸°í™” & JSON ë¶ˆëŸ¬ì˜¤ê¸° ============ */
    (function init() {
      // í•„í„° ë²„íŠ¼
      document.querySelectorAll(".filter-btn").forEach(btn => {
        btn.addEventListener("click", handleInitialClick);
      });
      // ê²€ìƒ‰ì°½
      document.getElementById("searchInput").addEventListener("input", handleSearch);

      // (ì˜ˆì‹œ) JSON ë¡œë“œ
      fetch("/assets/mock/glos.json")
        .then(res => res.json())
        .then(data => {
          glossaryData = data;
          filteredData = data;
          totalPages = Math.ceil(filteredData.length / PAGE_SIZE) || 1;
          displayPage(1);
        })
        .catch(err => console.error("JSON ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", err));
    })();
  </script>
</body>

</html>